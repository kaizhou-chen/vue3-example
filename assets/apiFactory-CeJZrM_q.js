import"./marketingApi-D-fY137l.js";let s=[{id:1,name:"五一促销活动",region:"shanghai",beginDate:"2024-05-01",endDate:"2024-05-03",jit:1,type:"2,3",resource:2,desc:"活动 1"},{id:2,name:"周末促销活动",region:"beijing",beginDate:"2024-05-04",endDate:"2024-05-05",jit:0,type:"2",resource:1,desc:"活动 2"}];function d(e){return new Promise(n=>{let{pageSize:t,pageNumber:i,orderBy:a}=e;t=t||10,i=i||1;let o=[],u=[],r=[...s];if(a){const[c,f]=a.split(",");r=y(r,c,f)}o=D(r,e),u=k(o,t,i),n({status:200,data:{list:u,pageInfo:{total:o.length,pageSize:t,pageNumber:i}}})})}function m(e){return new Promise(n=>{e.id=new Date().getTime(),s.push(e),n({status:200,data:{success:!0}})})}function p(e){return new Promise(n=>{const t=s.findIndex(i=>i.id===e.id);t>-1&&(s[t]=e),n({status:200,data:{success:!0}})})}function M(e){return new Promise(n=>{for(let t=s.length-1;t>=0;t--){const i=s.findIndex(a=>e.some(o=>a.id===o));i>-1&&s.splice(i,1)}n({status:200,data:{success:!0}})})}function k(e,n,t){return e.slice((t-1)*n,t*n)}function y(e,n,t){return e.sort((i,a)=>{const o=t==="asc"?[i,a]:[a,i],[u,r]=o.map(f=>f[n]);let c=u-r;return Number.isNaN(c)&&(c=u.localeCompare(r)),c})}function D(e,n){let{name:t,beginDate:i,endDate:a,jit:o,region:u}=n;return t&&(e=e.filter(r=>r.name.indexOf(t)>-1)),i&&(e=e.filter(r=>r.beginDate.localeCompare(i)>=0)),a&&(e=e.filter(r=>r.endDate.localeCompare(a)<=0)),u&&(e=e.filter(r=>g(u,r.region))),o&&(e=e.filter(r=>g(o,r.jit))),e}function g(e,n){return!e||e.length===0?!0:e.some(t=>t==n)}const h=Object.freeze(Object.defineProperty({__proto__:null,createMarketing:m,listMarketing:d,removeMarketing:M,updateMarketing:p},Symbol.toStringTag,{value:"Module"})),l=h;function x(e){return l.listMarketing(e)}function v(e){return l.createMarketing(e)}function w(e){return l.updateMarketing(e)}function P(e){return l.removeMarketing(e)}export{v as c,x as l,P as r,w as u};
