import{d as ue,a5 as Ee,a6 as Ue,r as B,g as ge,j as Be,a as E,o as C,b as De,w,e as p,u as O,H as en,ae as tn,I as k,L as it,M as nn,c as on,$ as lt,N as an,Y as ie,n as rn,C as Ft,D as Rt,X as Q,Z as Ct,l as ln}from"./index-D-j_Yy59.js";import{_ as Ae}from"./plugin-vueexport-helper-DlAUqK2U.js";const sn=ue({__name:"InputEditor",props:{modelValue:{},modelModifiers:{}},emits:Ee(["onAfterEdit"],["update:modelValue"]),setup(o,{emit:e}){const t=e,n=Ue(o,"modelValue"),a=B(),r=ge({name:n.value}),i=ge({name:[{required:!0,message:"必填",trigger:"blur"}]});Be(()=>r.name,l=>{n.value=l});function u(){a.value.validate(l=>{t("onAfterEdit",l)})}return(l,s)=>{const d=E("el-input"),c=E("el-form-item"),v=E("el-form");return C(),De(v,{ref_key:"formRef",ref:a,model:O(r),rules:O(i)},{default:w(()=>[p(c,{prop:"name"},{default:w(()=>[p(d,{modelValue:O(r).name,"onUpdate:modelValue":s[0]||(s[0]=h=>O(r).name=h),onBlur:u,size:"small"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])}}}),un=Ae(sn,[["__scopeId","data-v-5b707472"]]),dn=ue({__name:"NumberEditor",props:{modelValue:{},modelModifiers:{}},emits:Ee(["onAfterEdit"],["update:modelValue"]),setup(o,{emit:e}){const t=e,n=Ue(o,"modelValue"),a=B(),r=ge({name:n.value}),i=ge({name:[{required:!0,message:"必填",trigger:"blur"}]});Be(()=>r.name,l=>{n.value=l});function u(l){a.value.validate(s=>{t("onAfterEdit",s)})}return(l,s)=>{const d=E("el-input-number"),c=E("el-form-item"),v=E("el-form");return C(),De(v,{ref_key:"formRef",ref:a,model:O(r),rules:O(i)},{default:w(()=>[p(c,{prop:"name"},{default:w(()=>[en(p(d,{modelValue:O(r).name,"onUpdate:modelValue":s[0]||(s[0]=h=>O(r).name=h),size:"small"},null,8,["modelValue"]),[[O(tn),u]])]),_:1})]),_:1},8,["model","rules"])}}}),cn=Ae(dn,[["__scopeId","data-v-03842681"]]),fn=ue({__name:"DateEditor",props:{modelValue:{},modelModifiers:{}},emits:Ee(["onAfterEdit"],["update:modelValue"]),setup(o,{emit:e}){const t=e,n=Ue(o,"modelValue"),a=B(),r=ge({name:n.value}),i=ge({name:[{required:!0,message:"必填",trigger:"blur"}]});Be(()=>r.name,l=>{n.value=l});function u(){a.value.validate(l=>{t("onAfterEdit",l)})}return(l,s)=>{const d=E("el-date-picker"),c=E("el-form-item"),v=E("el-form");return C(),De(v,{ref_key:"formRef",ref:a,model:O(r),rules:O(i)},{default:w(()=>[p(c,{prop:"name"},{default:w(()=>[p(d,{modelValue:O(r).name,"onUpdate:modelValue":s[0]||(s[0]=h=>O(r).name=h),type:"date","value-format":"YYYY-MM-DD",onBlur:u,size:"small"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])}}}),pn=Ae(fn,[["__scopeId","data-v-55aab236"]]),mn=ue({__name:"SelectEditor",props:Ee({options:{}},{modelValue:{},modelModifiers:{}}),emits:Ee(["onAfterEdit"],["update:modelValue"]),setup(o,{emit:e}){const t=e,n=Ue(o,"modelValue"),a=B(),r=ge({name:n.value}),i=ge({name:[{required:!0,message:"必填",trigger:"blur"}]});Be(()=>r.name,l=>{n.value=l});function u(l){l||a.value.validate(s=>{t("onAfterEdit",s)})}return(l,s)=>{const d=E("el-option"),c=E("el-select"),v=E("el-form-item"),h=E("el-form");return C(),De(h,{ref_key:"formRef",ref:a,model:O(r),rules:O(i)},{default:w(()=>[p(v,{prop:"name"},{default:w(()=>[p(c,{modelValue:O(r).name,"onUpdate:modelValue":s[0]||(s[0]=g=>O(r).name=g),filterable:!0,onVisibleChange:u,size:"small"},{default:w(()=>[(C(!0),k(it,null,nn(l.options,g=>(C(),De(d,{key:g.value,label:g.label,value:g.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])}}}),hn=Ae(mn,[["__scopeId","data-v-79726913"]]),me=ue({__name:"CellEditor",props:Ee({type:{},scope:{},options:{}},{modelValue:{},modelModifiers:{}}),emits:Ee(["onAfterEdit"],["update:modelValue"]),setup(o,{emit:e}){const t=Ue(o,"modelValue"),n=o,a=e,r=B(),i=B(),u=on(()=>({text:un,number:cn,date:pn,select:hn})[n.type]||null);lt(()=>{r.value=t.value,i.value=t.value}),Be(t,s=>{i.value=s});function l(s){const d={};d.valid=s,d.rowIndex=n.scope.$index,d.field=n.scope.column.property,d.changed=r.value!=i.value,a("onAfterEdit",d)}return(s,d)=>(C(),De(an(O(u)),{modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=c=>t.value=c),options:s.options,onOnAfterEdit:d[1]||(d[1]=c=>l(c))},null,40,["modelValue","options"]))}}),$t=o=>(Ft("data-v-6583b060"),o=o(),Rt(),o),gn={key:0},vn={key:1},_n=$t(()=>Q("span",{style:{"margin-right":"10px"}},"姓名",-1)),bn={key:0},wn={key:1},yn={key:0},En={key:1},Dn={key:0},Sn={key:1},Tn=$t(()=>Q("p",null,"点击单元格，编辑数据",-1)),Cn=ue({__name:"CellEditTable",setup(o){const e=B([]),t=[{value:"bj",label:"北京"},{value:"sh",label:"上海"},{value:"gz",label:"广州"},{value:"sz",label:"深圳"}];lt(()=>{const i=[{date:"2024-05-03",name:"张三",age:33,area:"bj",address:"上海市普陀区金沙江路 1518 弄"},{date:"2024-05-04",name:"李四",age:34,area:"sh",address:"上海市普陀区金沙江路 1517 弄"},{date:"2024-05-05",name:"王五",age:35,area:"gz",address:"上海市普陀区金沙江路 1519 弄"},{date:"2024-05-06",name:"赵六",age:36,area:"sz",address:"上海市普陀区金沙江路 1516 弄"}];e.value=i});function n(i){return t.find(l=>l.value==i.row.area).label}function a(i,u,l,s){const{property:d}=u;i.editing=d,rn(()=>{l.querySelector(".el-input input").focus()})}function r({field:i,rowIndex:u,changed:l,valid:s}){if(!s)console.log("校验未通过");else{const d=e.value[u];delete d.editing,console.log("changed",l?"值发生了变化":"值没有变化")}}return(i,u)=>{const l=E("el-table-column"),s=E("EditPen"),d=E("el-icon"),c=E("el-table"),v=E("el-alert");return C(),k(it,null,[p(c,{data:O(e),style:{width:"100%"},onCellClick:a},{default:w(()=>[p(l,{prop:"date",label:"日期",width:"180"},{default:w(h=>[h.row.editing==="date"?(C(),k("div",gn,[p(me,{type:"date",modelValue:h.row.date,"onUpdate:modelValue":g=>h.row.date=g,scope:h,onOnAfterEdit:u[0]||(u[0]=g=>r(g))},null,8,["modelValue","onUpdate:modelValue","scope"])])):(C(),k("span",vn,ie(h.row.date),1))]),_:1}),p(l,{prop:"name",label:"姓名",width:"180"},{header:w(()=>[_n,p(d,null,{default:w(()=>[p(s)]),_:1})]),default:w(h=>[h.row.editing==="name"?(C(),k("div",bn,[p(me,{type:"text",modelValue:h.row.name,"onUpdate:modelValue":g=>h.row.name=g,scope:h,onOnAfterEdit:u[1]||(u[1]=g=>r(g))},null,8,["modelValue","onUpdate:modelValue","scope"])])):(C(),k("span",wn,ie(h.row.name),1))]),_:1}),p(l,{prop:"age",label:"年龄"},{default:w(h=>[h.row.editing==="age"?(C(),k("div",yn,[p(me,{type:"number",modelValue:h.row.age,"onUpdate:modelValue":g=>h.row.age=g,scope:h,onOnAfterEdit:u[2]||(u[2]=g=>r(g))},null,8,["modelValue","onUpdate:modelValue","scope"])])):(C(),k("span",En,ie(h.row.age),1))]),_:1}),p(l,{prop:"area",label:"地区"},{default:w(h=>[h.row.editing==="area"?(C(),k("div",Dn,[p(me,{type:"select",modelValue:h.row.area,"onUpdate:modelValue":g=>h.row.area=g,scope:h,options:t,onOnAfterEdit:u[3]||(u[3]=g=>r(g))},null,8,["modelValue","onUpdate:modelValue","scope"])])):(C(),k("span",Sn,ie(n(h)),1))]),_:1}),p(l,{prop:"address",label:"地址"})]),_:1},8,["data"]),p(v,{type:"info","show-icon":"",closable:!1,style:{"margin-top":"20px"}},{default:w(()=>[Tn]),_:1})],64)}}}),On=Ae(Cn,[["__scopeId","data-v-6583b060"]]),xn={key:0},In={key:1},An={key:0},Vn={key:1},Nn={key:0},kn={key:1},Pn={key:0},Mn={key:1},Fn={key:0},Rn=Q("span",null,"取消",-1),$n=Q("span",null,"确定",-1),Yn={key:1},Xn=Q("span",null,"编辑",-1),Un=Q("p",null,"点击编辑按钮，编辑数据",-1),Bn=ue({__name:"RowEditTable",setup(o){const e=B([]),t=B(null),n=[{value:"bj",label:"北京"},{value:"sh",label:"上海"},{value:"gz",label:"广州"},{value:"sz",label:"深圳"}];lt(()=>{const s=[{date:"2024-05-03",name:"张三",age:33,area:"bj",address:"上海市普陀区金沙江路 1518 弄"},{date:"2024-05-04",name:"李四",age:34,area:"sh",address:"上海市普陀区金沙江路 1517 弄"},{date:"2024-05-05",name:"王五",age:35,area:"gz",address:"上海市普陀区金沙江路 1519 弄"},{date:"2024-05-06",name:"赵六",age:36,area:"sz",address:"上海市普陀区金沙江路 1516 弄"}];s.forEach((d,c)=>{d.isShow=!0}),e.value=s});function a(s){return n.find(c=>c.value==s.row.area).label}function r(s,d){t.value=JSON.parse(JSON.stringify(s)),s.editing=d}function i(s,d,c){}function u(s){const d=e.value;d[s]=t.value}function l(s){e.value.forEach((d,c)=>{s===c&&delete d.editing})}return(s,d)=>{const c=E("el-table-column"),v=E("el-button"),h=E("el-table"),g=E("el-alert");return C(),k(it,null,[p(h,{data:O(e),style:{width:"100%"}},{default:w(()=>[p(c,{prop:"date",label:"日期",width:"180"},{default:w(m=>[m.row.editing===m.$index?(C(),k("div",xn,[p(me,{type:"date",modelValue:m.row.date,"onUpdate:modelValue":D=>m.row.date=D,scope:m,onOnAfterEdit:d[0]||(d[0]=D=>void 0)},null,8,["modelValue","onUpdate:modelValue","scope"])])):(C(),k("span",In,ie(m.row.date),1))]),_:1}),p(c,{prop:"name",label:"姓名",width:"180"},{default:w(m=>[m.row.editing===m.$index?(C(),k("div",An,[p(me,{type:"text",modelValue:m.row.name,"onUpdate:modelValue":D=>m.row.name=D,scope:m,onOnAfterEdit:d[1]||(d[1]=D=>void 0)},null,8,["modelValue","onUpdate:modelValue","scope"])])):(C(),k("span",Vn,ie(m.row.name),1))]),_:1}),p(c,{prop:"age",label:"年龄"},{default:w(m=>[m.row.editing===m.$index?(C(),k("div",Nn,[p(me,{type:"number",modelValue:m.row.age,"onUpdate:modelValue":D=>m.row.age=D,scope:m,onOnAfterEdit:d[2]||(d[2]=D=>void 0)},null,8,["modelValue","onUpdate:modelValue","scope"])])):(C(),k("span",kn,ie(m.row.age),1))]),_:1}),p(c,{prop:"area",label:"地区"},{default:w(m=>[m.row.editing===m.$index?(C(),k("div",Pn,[p(me,{type:"select",modelValue:m.row.area,"onUpdate:modelValue":D=>m.row.area=D,scope:m,options:n,onOnAfterEdit:d[3]||(d[3]=D=>void 0)},null,8,["modelValue","onUpdate:modelValue","scope"])])):(C(),k("span",Mn,ie(a(m)),1))]),_:1}),p(c,{prop:"address",label:"地址"}),p(c,{label:"操作",width:"200"},{default:w(m=>[m.row.editing===m.$index?(C(),k("span",Fn,[p(v,{size:"small",plain:"",onClick:D=>u(m.$index)},{default:w(()=>[Rn]),_:2},1032,["onClick"]),p(v,{size:"small",type:"primary",plain:"",onClick:D=>l(m.$index)},{default:w(()=>[$n]),_:2},1032,["onClick"])])):(C(),k("span",Yn,[p(v,{size:"small",type:"primary",plain:"",onClick:D=>r(m.row,m.$index)},{default:w(()=>[Xn]),_:2},1032,["onClick"])]))]),_:1})]),_:1},8,["data"]),p(g,{type:"info","show-icon":"",closable:!1,style:{"margin-top":"20px"}},{default:w(()=>[Un]),_:1})],64)}}});/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Ot(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),t.push.apply(t,n)}return t}function oe(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ot(Object(t),!0).forEach(function(n){zn(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Ot(Object(t)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function Je(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Je=function(e){return typeof e}:Je=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(o)}function zn(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function se(){return se=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},se.apply(this,arguments)}function Ln(o,e){if(o==null)return{};var t={},n=Object.keys(o),a,r;for(r=0;r<n.length;r++)a=n[r],!(e.indexOf(a)>=0)&&(t[a]=o[a]);return t}function Hn(o,e){if(o==null)return{};var t=Ln(o,e),n,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(o,n)&&(t[n]=o[n])}return t}var Wn="1.14.0";function le(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}var de=le(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ze=le(/Edge/i),xt=le(/firefox/i),Fe=le(/safari/i)&&!le(/chrome/i)&&!le(/android/i),Yt=le(/iP(ad|od|hone)/i),jn=le(/chrome/i)&&le(/android/i),Xt={capture:!1,passive:!1};function T(o,e,t){o.addEventListener(e,t,!de&&Xt)}function S(o,e,t){o.removeEventListener(e,t,!de&&Xt)}function tt(o,e){if(e){if(e[0]===">"&&(e=e.substring(1)),o)try{if(o.matches)return o.matches(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e)}catch{return!1}return!1}}function Gn(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function te(o,e,t,n){if(o){t=t||document;do{if(e!=null&&(e[0]===">"?o.parentNode===t&&tt(o,e):tt(o,e))||n&&o===t)return o;if(o===t)break}while(o=Gn(o))}return null}var It=/\s+/g;function H(o,e,t){if(o&&e)if(o.classList)o.classList[t?"add":"remove"](e);else{var n=(" "+o.className+" ").replace(It," ").replace(" "+e+" "," ");o.className=(n+(t?" "+e:"")).replace(It," ")}}function _(o,e,t){var n=o&&o.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(t=o.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function xe(o,e){var t="";if(typeof o=="string")t=o;else do{var n=_(o,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(o=o.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function Ut(o,e,t){if(o){var n=o.getElementsByTagName(e),a=0,r=n.length;if(t)for(;a<r;a++)t(n[a],a);return n}return[]}function ne(){var o=document.scrollingElement;return o||document.documentElement}function R(o,e,t,n,a){if(!(!o.getBoundingClientRect&&o!==window)){var r,i,u,l,s,d,c;if(o!==window&&o.parentNode&&o!==ne()?(r=o.getBoundingClientRect(),i=r.top,u=r.left,l=r.bottom,s=r.right,d=r.height,c=r.width):(i=0,u=0,l=window.innerHeight,s=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(e||t)&&o!==window&&(a=a||o.parentNode,!de))do if(a&&a.getBoundingClientRect&&(_(a,"transform")!=="none"||t&&_(a,"position")!=="static")){var v=a.getBoundingClientRect();i-=v.top+parseInt(_(a,"border-top-width")),u-=v.left+parseInt(_(a,"border-left-width")),l=i+r.height,s=u+r.width;break}while(a=a.parentNode);if(n&&o!==window){var h=xe(a||o),g=h&&h.a,m=h&&h.d;h&&(i/=m,u/=g,c/=g,d/=m,l=i+d,s=u+c)}return{top:i,left:u,bottom:l,right:s,width:c,height:d}}}function At(o,e,t){for(var n=he(o,!0),a=R(o)[e];n;){var r=R(n)[t],i=void 0;if(i=a>=r,!i)return n;if(n===ne())break;n=he(n,!1)}return!1}function Ie(o,e,t,n){for(var a=0,r=0,i=o.children;r<i.length;){if(i[r].style.display!=="none"&&i[r]!==b.ghost&&(n||i[r]!==b.dragged)&&te(i[r],t.draggable,o,!1)){if(a===e)return i[r];a++}r++}return null}function Et(o,e){for(var t=o.lastElementChild;t&&(t===b.ghost||_(t,"display")==="none"||e&&!tt(t,e));)t=t.previousElementSibling;return t||null}function J(o,e){var t=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==b.clone&&(!e||tt(o,e))&&t++;return t}function Vt(o){var e=0,t=0,n=ne();if(o)do{var a=xe(o),r=a.a,i=a.d;e+=o.scrollLeft*r,t+=o.scrollTop*i}while(o!==n&&(o=o.parentNode));return[e,t]}function qn(o,e){for(var t in o)if(o.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===o[t][n])return Number(t)}return-1}function he(o,e){if(!o||!o.getBoundingClientRect)return ne();var t=o,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=_(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return ne();if(n||e)return t;n=!0}}while(t=t.parentNode);return ne()}function Jn(o,e){if(o&&e)for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function ut(o,e){return Math.round(o.top)===Math.round(e.top)&&Math.round(o.left)===Math.round(e.left)&&Math.round(o.height)===Math.round(e.height)&&Math.round(o.width)===Math.round(e.width)}var Re;function Bt(o,e){return function(){if(!Re){var t=arguments,n=this;t.length===1?o.call(n,t[0]):o.apply(n,t),Re=setTimeout(function(){Re=void 0},e)}}}function Zn(){clearTimeout(Re),Re=void 0}function zt(o,e,t){o.scrollLeft+=e,o.scrollTop+=t}function Lt(o){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(o).cloneNode(!0):t?t(o).clone(!0)[0]:o.cloneNode(!0)}var j="Sortable"+new Date().getTime();function Kn(){var o=[],e;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(_(a,"display")==="none"||a===b.ghost)){o.push({target:a,rect:R(a)});var r=oe({},o[o.length-1].rect);if(a.thisAnimationDuration){var i=xe(a,!0);i&&(r.top-=i.f,r.left-=i.e)}a.fromRect=r}})}},addAnimationState:function(n){o.push(n)},removeAnimationState:function(n){o.splice(qn(o,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,i=0;o.forEach(function(u){var l=0,s=u.target,d=s.fromRect,c=R(s),v=s.prevFromRect,h=s.prevToRect,g=u.rect,m=xe(s,!0);m&&(c.top-=m.f,c.left-=m.e),s.toRect=c,s.thisAnimationDuration&&ut(v,c)&&!ut(d,c)&&(g.top-c.top)/(g.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(l=eo(g,v,h,a.options)),ut(c,d)||(s.prevFromRect=d,s.prevToRect=c,l||(l=a.options.animation),a.animate(s,g,c,l)),l&&(r=!0,i=Math.max(i,l),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},l),s.thisAnimationDuration=l)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),o=[]},animate:function(n,a,r,i){if(i){_(n,"transition",""),_(n,"transform","");var u=xe(this.el),l=u&&u.a,s=u&&u.d,d=(a.left-r.left)/(l||1),c=(a.top-r.top)/(s||1);n.animatingX=!!d,n.animatingY=!!c,_(n,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=Qn(n),_(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),_(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){_(n,"transition",""),_(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function Qn(o){return o.offsetWidth}function eo(o,e,t,n){return Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var Se=[],dt={initializeByDefault:!0},Le={mount:function(e){for(var t in dt)dt.hasOwnProperty(t)&&!(t in e)&&(e[t]=dt[t]);Se.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Se.push(e)},pluginEvent:function(e,t,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var r=e+"Global";Se.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][r]&&t[i.pluginName][r](oe({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](oe({sortable:t},n)))})},initializePlugins:function(e,t,n,a){Se.forEach(function(u){var l=u.pluginName;if(!(!e.options[l]&&!u.initializeByDefault)){var s=new u(e,t,e.options);s.sortable=e,s.options=e.options,e[l]=s,se(n,s.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);typeof i<"u"&&(e.options[r]=i)}},getEventProperties:function(e,t){var n={};return Se.forEach(function(a){typeof a.eventProperties=="function"&&se(n,a.eventProperties.call(t[a.pluginName],e))}),n},modifyOption:function(e,t,n){var a;return Se.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(a=r.optionListeners[t].call(e[r.pluginName],n))}),a}};function to(o){var e=o.sortable,t=o.rootEl,n=o.name,a=o.targetEl,r=o.cloneEl,i=o.toEl,u=o.fromEl,l=o.oldIndex,s=o.newIndex,d=o.oldDraggableIndex,c=o.newDraggableIndex,v=o.originalEvent,h=o.putSortable,g=o.extraEventProperties;if(e=e||t&&t[j],!!e){var m,D=e.options,M="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!de&&!ze?m=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(n,!0,!0)),m.to=i||t,m.from=u||t,m.item=a||t,m.clone=r,m.oldIndex=l,m.newIndex=s,m.oldDraggableIndex=d,m.newDraggableIndex=c,m.originalEvent=v,m.pullMode=h?h.lastPutMode:void 0;var A=oe(oe({},g),Le.getEventProperties(n,e));for(var L in A)m[L]=A[L];t&&t.dispatchEvent(m),D[M]&&D[M].call(e,m)}}var no=["evt"],z=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,r=Hn(n,no);Le.pluginEvent.bind(b)(e,t,oe({dragEl:f,parentEl:V,ghostEl:y,rootEl:I,nextEl:ye,lastDownEl:Ze,cloneEl:N,cloneHidden:pe,dragStarted:ke,putSortable:$,activeSortable:b.active,originalEvent:a,oldIndex:Oe,oldDraggableIndex:$e,newIndex:W,newDraggableIndex:fe,hideGhostForTarget:Gt,unhideGhostForTarget:qt,cloneNowHidden:function(){pe=!0},cloneNowShown:function(){pe=!1},dispatchSortableEvent:function(u){U({sortable:t,name:u,originalEvent:a})}},r))};function U(o){to(oe({putSortable:$,cloneEl:N,targetEl:f,rootEl:I,oldIndex:Oe,oldDraggableIndex:$e,newIndex:W,newDraggableIndex:fe},o))}var f,V,y,I,ye,Ze,N,pe,Oe,W,$e,fe,We,$,Ce=!1,nt=!1,ot=[],be,K,ct,ft,Nt,kt,ke,Te,Ye,Xe=!1,je=!1,Ke,Y,pt=[],_t=!1,at=[],st=typeof document<"u",Ge=Yt,Pt=ze||de?"cssFloat":"float",oo=st&&!jn&&!Yt&&"draggable"in document.createElement("div"),Ht=function(){if(st){if(de)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}}(),Wt=function(e,t){var n=_(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Ie(e,0,t),i=Ie(e,1,t),u=r&&_(r),l=i&&_(i),s=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+R(r).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+R(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&u.float&&u.float!=="none"){var c=u.float==="left"?"left":"right";return i&&(l.clear==="both"||l.clear===c)?"vertical":"horizontal"}return r&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||s>=a&&n[Pt]==="none"||i&&n[Pt]==="none"&&s+d>a)?"vertical":"horizontal"},ao=function(e,t,n){var a=n?e.left:e.top,r=n?e.right:e.bottom,i=n?e.width:e.height,u=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return a===u||r===l||a+i/2===u+s/2},ro=function(e,t){var n;return ot.some(function(a){var r=a[j].options.emptyInsertThreshold;if(!(!r||Et(a))){var i=R(a),u=e>=i.left-r&&e<=i.right+r,l=t>=i.top-r&&t<=i.bottom+r;if(u&&l)return n=a}}),n},jt=function(e){function t(r,i){return function(u,l,s,d){var c=u.options.group.name&&l.options.group.name&&u.options.group.name===l.options.group.name;if(r==null&&(i||c))return!0;if(r==null||r===!1)return!1;if(i&&r==="clone")return r;if(typeof r=="function")return t(r(u,l,s,d),i)(u,l,s,d);var v=(i?u:l).options.group.name;return r===!0||typeof r=="string"&&r===v||r.join&&r.indexOf(v)>-1}}var n={},a=e.group;(!a||Je(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},Gt=function(){!Ht&&y&&_(y,"display","none")},qt=function(){!Ht&&y&&_(y,"display","")};st&&document.addEventListener("click",function(o){if(nt)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),nt=!1,!1},!0);var we=function(e){if(f){e=e.touches?e.touches[0]:e;var t=ro(e.clientX,e.clientY);if(t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[j]._onDragOver(n)}}},io=function(e){f&&f.parentNode[j]._isOutsideThisEl(e.target)};function b(o,e){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=e=se({},e),o[j]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wt(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,u){i.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:b.supportPointer!==!1&&"PointerEvent"in window&&!Fe,emptyInsertThreshold:5};Le.initializePlugins(this,o,t);for(var n in t)!(n in e)&&(e[n]=t[n]);jt(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:oo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?T(o,"pointerdown",this._onTapStart):(T(o,"mousedown",this._onTapStart),T(o,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(o,"dragover",this),T(o,"dragenter",this)),ot.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),se(this,Kn())}b.prototype={constructor:b,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Te=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,f):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,a=this.options,r=a.preventOnFilter,i=e.type,u=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(u||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,d=a.filter;if(ho(n),!f&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||a.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&Fe&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=te(l,a.draggable,n,!1),!(l&&l.animated)&&Ze!==l)){if(Oe=J(l),$e=J(l,a.draggable),typeof d=="function"){if(d.call(this,e,l,this)){U({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),z("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=te(s,c.trim(),n,!1),c)return U({sortable:t,rootEl:c,name:"filter",targetEl:l,fromEl:n,toEl:n}),z("filter",t,{evt:e}),!0}),d)){r&&e.cancelable&&e.preventDefault();return}a.handle&&!te(s,a.handle,n,!1)||this._prepareDragStart(e,u,l)}}},_prepareDragStart:function(e,t,n){var a=this,r=a.el,i=a.options,u=r.ownerDocument,l;if(n&&!f&&n.parentNode===r){var s=R(n);if(I=r,f=n,V=f.parentNode,ye=f.nextSibling,Ze=n,We=i.group,b.dragged=f,be={target:f,clientX:(t||e).clientX,clientY:(t||e).clientY},Nt=be.clientX-s.left,kt=be.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,f.style["will-change"]="all",l=function(){if(z("delayEnded",a,{evt:e}),b.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!xt&&a.nativeDraggable&&(f.draggable=!0),a._triggerDragStart(e,t),U({sortable:a,name:"choose",originalEvent:e}),H(f,i.chosenClass,!0)},i.ignore.split(",").forEach(function(d){Ut(f,d.trim(),mt)}),T(u,"dragover",we),T(u,"mousemove",we),T(u,"touchmove",we),T(u,"mouseup",a._onDrop),T(u,"touchend",a._onDrop),T(u,"touchcancel",a._onDrop),xt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,f.draggable=!0),z("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(ze||de))){if(b.eventCanceled){this._onDrop();return}T(u,"mouseup",a._disableDelayedDrag),T(u,"touchend",a._disableDelayedDrag),T(u,"touchcancel",a._disableDelayedDrag),T(u,"mousemove",a._delayedDragTouchMoveHandler),T(u,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&T(u,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(l,i.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){f&&mt(f),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._disableDelayedDrag),S(e,"touchend",this._disableDelayedDrag),S(e,"touchcancel",this._disableDelayedDrag),S(e,"mousemove",this._delayedDragTouchMoveHandler),S(e,"touchmove",this._delayedDragTouchMoveHandler),S(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?T(document,"pointermove",this._onTouchMove):t?T(document,"touchmove",this._onTouchMove):T(document,"mousemove",this._onTouchMove):(T(f,"dragend",this),T(I,"dragstart",this._onDragStart));try{document.selection?Qe(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ce=!1,I&&f){z("dragStarted",this,{evt:t}),this.nativeDraggable&&T(document,"dragover",io);var n=this.options;!e&&H(f,n.dragClass,!1),H(f,n.ghostClass,!0),b.active=this,e&&this._appendGhost(),U({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(K){this._lastX=K.clientX,this._lastY=K.clientY,Gt();for(var e=document.elementFromPoint(K.clientX,K.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(K.clientX,K.clientY),e!==t);)t=e;if(f.parentNode[j]._isOutsideThisEl(e),t)do{if(t[j]){var n=void 0;if(n=t[j]._onDragOver({clientX:K.clientX,clientY:K.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);qt()}},_onTouchMove:function(e){if(be){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=y&&xe(y,!0),u=y&&i&&i.a,l=y&&i&&i.d,s=Ge&&Y&&Vt(Y),d=(r.clientX-be.clientX+a.x)/(u||1)+(s?s[0]-pt[0]:0)/(u||1),c=(r.clientY-be.clientY+a.y)/(l||1)+(s?s[1]-pt[1]:0)/(l||1);if(!b.active&&!Ce){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(y){i?(i.e+=d-(ct||0),i.f+=c-(ft||0)):i={a:1,b:0,c:0,d:1,e:d,f:c};var v="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");_(y,"webkitTransform",v),_(y,"mozTransform",v),_(y,"msTransform",v),_(y,"transform",v),ct=d,ft=c,K=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!y){var e=this.options.fallbackOnBody?document.body:I,t=R(f,!0,Ge,!0,e),n=this.options;if(Ge){for(Y=e;_(Y,"position")==="static"&&_(Y,"transform")==="none"&&Y!==document;)Y=Y.parentNode;Y!==document.body&&Y!==document.documentElement?(Y===document&&(Y=ne()),t.top+=Y.scrollTop,t.left+=Y.scrollLeft):Y=ne(),pt=Vt(Y)}y=f.cloneNode(!0),H(y,n.ghostClass,!1),H(y,n.fallbackClass,!0),H(y,n.dragClass,!0),_(y,"transition",""),_(y,"transform",""),_(y,"box-sizing","border-box"),_(y,"margin",0),_(y,"top",t.top),_(y,"left",t.left),_(y,"width",t.width),_(y,"height",t.height),_(y,"opacity","0.8"),_(y,"position",Ge?"absolute":"fixed"),_(y,"zIndex","100000"),_(y,"pointerEvents","none"),b.ghost=y,e.appendChild(y),_(y,"transform-origin",Nt/parseInt(y.style.width)*100+"% "+kt/parseInt(y.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,r=n.options;if(z("dragStart",this,{evt:e}),b.eventCanceled){this._onDrop();return}z("setupClone",this),b.eventCanceled||(N=Lt(f),N.draggable=!1,N.style["will-change"]="",this._hideClone(),H(N,this.options.chosenClass,!1),b.clone=N),n.cloneId=Qe(function(){z("clone",n),!b.eventCanceled&&(n.options.removeCloneOnHide||I.insertBefore(N,f),n._hideClone(),U({sortable:n,name:"clone"}))}),!t&&H(f,r.dragClass,!0),t?(nt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(S(document,"mouseup",n._onDrop),S(document,"touchend",n._onDrop),S(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(n,a,f)),T(document,"drop",n),_(f,"transform","translateZ(0)")),Ce=!0,n._dragStartId=Qe(n._dragStarted.bind(n,t,e)),T(document,"selectstart",n),ke=!0,Fe&&_(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,a,r,i,u=this.options,l=u.group,s=b.active,d=We===l,c=u.sort,v=$||s,h,g=this,m=!1;if(_t)return;function D(Ne,Kt){z(Ne,g,oe({evt:e,isOwner:d,axis:h?"vertical":"horizontal",revert:i,dragRect:a,targetRect:r,canSort:c,fromSortable:v,target:n,completed:A,onMove:function(Tt,Qt){return qe(I,t,f,a,Tt,R(Tt),e,Qt)},changed:L},Kt))}function M(){D("dragOverAnimationCapture"),g.captureAnimationState(),g!==v&&v.captureAnimationState()}function A(Ne){return D("dragOverCompleted",{insertion:Ne}),Ne&&(d?s._hideClone():s._showClone(g),g!==v&&(H(f,$?$.options.ghostClass:s.options.ghostClass,!1),H(f,u.ghostClass,!0)),$!==g&&g!==b.active?$=g:g===b.active&&$&&($=null),v===g&&(g._ignoreWhileAnimating=n),g.animateAll(function(){D("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(n===f&&!f.animated||n===t&&!n.animated)&&(Te=null),!u.dragoverBubble&&!e.rootEl&&n!==document&&(f.parentNode[j]._isOutsideThisEl(e.target),!Ne&&we(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function L(){W=J(f),fe=J(f,u.draggable),U({sortable:g,name:"change",toEl:t,newIndex:W,newDraggableIndex:fe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=te(n,u.draggable,t,!0),D("dragOver"),b.eventCanceled)return m;if(f.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||g._ignoreWhileAnimating===n)return A(!1);if(nt=!1,s&&!u.disabled&&(d?c||(i=V!==I):$===this||(this.lastPutMode=We.checkPull(this,s,f,e))&&l.checkPut(this,s,f,e))){if(h=this._getDirection(e,n)==="vertical",a=R(f),D("dragOverValid"),b.eventCanceled)return m;if(i)return V=I,M(),this._hideClone(),D("revert"),b.eventCanceled||(ye?I.insertBefore(f,ye):I.appendChild(f)),A(!0);var G=Et(t,u.draggable);if(!G||co(e,h,this)&&!G.animated){if(G===f)return A(!1);if(G&&t===e.target&&(n=G),n&&(r=R(n)),qe(I,t,f,a,n,r,e,!!n)!==!1)return M(),t.appendChild(f),V=t,L(),A(!0)}else if(G&&uo(e,h,this)){var ae=Ie(t,0,u,!0);if(ae===f)return A(!1);if(n=ae,r=R(n),qe(I,t,f,a,n,r,e,!1)!==!1)return M(),t.insertBefore(f,ae),V=t,L(),A(!0)}else if(n.parentNode===t){r=R(n);var q=0,Z,ve=f.parentNode!==t,X=!ao(f.animated&&f.toRect||a,n.animated&&n.toRect||r,h),re=h?"top":"left",ee=At(n,"top","top")||At(f,"top","top"),x=ee?ee.scrollTop:void 0;Te!==n&&(Z=r[re],Xe=!1,je=!X&&u.invertSwap||ve),q=fo(e,n,r,h,X?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,je,Te===n);var P;if(q!==0){var _e=J(f);do _e-=q,P=V.children[_e];while(P&&(_(P,"display")==="none"||P===y))}if(q===0||P===n)return A(!1);Te=n,Ye=q;var Ve=n.nextElementSibling,ce=!1;ce=q===1;var He=qe(I,t,f,a,n,r,e,ce);if(He!==!1)return(He===1||He===-1)&&(ce=He===1),_t=!0,setTimeout(so,30),M(),ce&&!Ve?t.appendChild(f):n.parentNode.insertBefore(f,ce?Ve:n),ee&&zt(ee,0,x-ee.scrollTop),V=f.parentNode,Z!==void 0&&!je&&(Ke=Math.abs(Z-R(n)[re])),L(),A(!0)}if(t.contains(f))return A(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",we),S(document,"mousemove",we),S(document,"touchmove",we)},_offUpEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._onDrop),S(e,"touchend",this._onDrop),S(e,"pointerup",this._onDrop),S(e,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(W=J(f),fe=J(f,n.draggable),z("drop",this,{evt:e}),V=f&&f.parentNode,W=J(f),fe=J(f,n.draggable),b.eventCanceled){this._nulling();return}Ce=!1,je=!1,Xe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),bt(this.cloneId),bt(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Fe&&_(document.body,"user-select",""),_(f,"transform",""),e&&(ke&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(I===V||$&&$.lastPutMode!=="clone")&&N&&N.parentNode&&N.parentNode.removeChild(N),f&&(this.nativeDraggable&&S(f,"dragend",this),mt(f),f.style["will-change"]="",ke&&!Ce&&H(f,$?$.options.ghostClass:this.options.ghostClass,!1),H(f,this.options.chosenClass,!1),U({sortable:this,name:"unchoose",toEl:V,newIndex:null,newDraggableIndex:null,originalEvent:e}),I!==V?(W>=0&&(U({rootEl:V,name:"add",toEl:V,fromEl:I,originalEvent:e}),U({sortable:this,name:"remove",toEl:V,originalEvent:e}),U({rootEl:V,name:"sort",toEl:V,fromEl:I,originalEvent:e}),U({sortable:this,name:"sort",toEl:V,originalEvent:e})),$&&$.save()):W!==Oe&&W>=0&&(U({sortable:this,name:"update",toEl:V,originalEvent:e}),U({sortable:this,name:"sort",toEl:V,originalEvent:e})),b.active&&((W==null||W===-1)&&(W=Oe,fe=$e),U({sortable:this,name:"end",toEl:V,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){z("nulling",this),I=f=V=y=ye=N=Ze=pe=be=K=ke=W=fe=Oe=$e=Te=Ye=$=We=b.dragged=b.ghost=b.clone=b.active=null,at.forEach(function(e){e.checked=!0}),at.length=ct=ft=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":f&&(this._onDragOver(e),lo(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,a=0,r=n.length,i=this.options;a<r;a++)t=n[a],te(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||mo(t));return e},sort:function(e,t){var n={},a=this.el;this.toArray().forEach(function(r,i){var u=a.children[i];te(u,this.options.draggable,a,!1)&&(n[r]=u)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(a.removeChild(n[r]),a.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return te(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var a=Le.modifyOption(this,e,t);typeof a<"u"?n[e]=a:n[e]=t,e==="group"&&jt(n)},destroy:function(){z("destroy",this);var e=this.el;e[j]=null,S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart),S(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ot.splice(ot.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!pe){if(z("hideClone",this),b.eventCanceled)return;_(N,"display","none"),this.options.removeCloneOnHide&&N.parentNode&&N.parentNode.removeChild(N),pe=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(pe){if(z("showClone",this),b.eventCanceled)return;f.parentNode==I&&!this.options.group.revertClone?I.insertBefore(N,f):ye?I.insertBefore(N,ye):I.appendChild(N),this.options.group.revertClone&&this.animate(f,N),_(N,"display",""),pe=!1}}};function lo(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function qe(o,e,t,n,a,r,i,u){var l,s=o[j],d=s.options.onMove,c;return window.CustomEvent&&!de&&!ze?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=o,l.dragged=t,l.draggedRect=n,l.related=a||e,l.relatedRect=r||R(e),l.willInsertAfter=u,l.originalEvent=i,o.dispatchEvent(l),d&&(c=d.call(s,l,i)),c}function mt(o){o.draggable=!1}function so(){_t=!1}function uo(o,e,t){var n=R(Ie(t.el,0,t.options,!0)),a=10;return e?o.clientX<n.left-a||o.clientY<n.top&&o.clientX<n.right:o.clientY<n.top-a||o.clientY<n.bottom&&o.clientX<n.left}function co(o,e,t){var n=R(Et(t.el,t.options.draggable)),a=10;return e?o.clientX>n.right+a||o.clientX<=n.right&&o.clientY>n.bottom&&o.clientX>=n.left:o.clientX>n.right&&o.clientY>n.top||o.clientX<=n.right&&o.clientY>n.bottom+a}function fo(o,e,t,n,a,r,i,u){var l=n?o.clientY:o.clientX,s=n?t.height:t.width,d=n?t.top:t.left,c=n?t.bottom:t.right,v=!1;if(!i){if(u&&Ke<s*a){if(!Xe&&(Ye===1?l>d+s*r/2:l<c-s*r/2)&&(Xe=!0),Xe)v=!0;else if(Ye===1?l<d+Ke:l>c-Ke)return-Ye}else if(l>d+s*(1-a)/2&&l<c-s*(1-a)/2)return po(e)}return v=v||i,v&&(l<d+s*r/2||l>c-s*r/2)?l>d+s/2?1:-1:0}function po(o){return J(f)<J(o)?1:-1}function mo(o){for(var e=o.tagName+o.className+o.src+o.href+o.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function ho(o){at.length=0;for(var e=o.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&at.push(n)}}function Qe(o){return setTimeout(o,0)}function bt(o){return clearTimeout(o)}st&&T(document,"touchmove",function(o){(b.active||Ce)&&o.cancelable&&o.preventDefault()});b.utils={on:T,off:S,css:_,find:Ut,is:function(e,t){return!!te(e,t,e,!1)},extend:Jn,throttle:Bt,closest:te,toggleClass:H,clone:Lt,index:J,nextTick:Qe,cancelNextTick:bt,detectDirection:Wt,getChild:Ie};b.get=function(o){return o[j]};b.mount=function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(b.utils=oe(oe({},b.utils),n.utils)),Le.mount(n)})};b.create=function(o,e){return new b(o,e)};b.version=Wn;var F=[],Pe,wt,yt=!1,ht,gt,rt,Me;function go(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return o.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):this.options.supportPointer?T(document,"pointermove",this._handleFallbackAutoScroll):n.touches?T(document,"touchmove",this._handleFallbackAutoScroll):T(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),Mt(),et(),Zn()},nulling:function(){rt=wt=Pe=yt=Me=ht=gt=null,F.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var a=this,r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,u=document.elementFromPoint(r,i);if(rt=t,n||this.options.forceAutoScrollFallback||ze||de||Fe){vt(t,this.options,u,n);var l=he(u,!0);yt&&(!Me||r!==ht||i!==gt)&&(Me&&Mt(),Me=setInterval(function(){var s=he(document.elementFromPoint(r,i),!0);s!==l&&(l=s,et()),vt(t,a.options,s,n)},10),ht=r,gt=i)}else{if(!this.options.bubbleScroll||he(u,!0)===ne()){et();return}vt(t,this.options,he(u,!1),!1)}}},se(o,{pluginName:"scroll",initializeByDefault:!0})}function et(){F.forEach(function(o){clearInterval(o.pid)}),F=[]}function Mt(){clearInterval(Me)}var vt=Bt(function(o,e,t,n){if(e.scroll){var a=(o.touches?o.touches[0]:o).clientX,r=(o.touches?o.touches[0]:o).clientY,i=e.scrollSensitivity,u=e.scrollSpeed,l=ne(),s=!1,d;wt!==t&&(wt=t,et(),Pe=e.scroll,d=e.scrollFn,Pe===!0&&(Pe=he(t,!0)));var c=0,v=Pe;do{var h=v,g=R(h),m=g.top,D=g.bottom,M=g.left,A=g.right,L=g.width,G=g.height,ae=void 0,q=void 0,Z=h.scrollWidth,ve=h.scrollHeight,X=_(h),re=h.scrollLeft,ee=h.scrollTop;h===l?(ae=L<Z&&(X.overflowX==="auto"||X.overflowX==="scroll"||X.overflowX==="visible"),q=G<ve&&(X.overflowY==="auto"||X.overflowY==="scroll"||X.overflowY==="visible")):(ae=L<Z&&(X.overflowX==="auto"||X.overflowX==="scroll"),q=G<ve&&(X.overflowY==="auto"||X.overflowY==="scroll"));var x=ae&&(Math.abs(A-a)<=i&&re+L<Z)-(Math.abs(M-a)<=i&&!!re),P=q&&(Math.abs(D-r)<=i&&ee+G<ve)-(Math.abs(m-r)<=i&&!!ee);if(!F[c])for(var _e=0;_e<=c;_e++)F[_e]||(F[_e]={});(F[c].vx!=x||F[c].vy!=P||F[c].el!==h)&&(F[c].el=h,F[c].vx=x,F[c].vy=P,clearInterval(F[c].pid),(x!=0||P!=0)&&(s=!0,F[c].pid=setInterval((function(){n&&this.layer===0&&b.active._onTouchMove(rt);var Ve=F[this.layer].vy?F[this.layer].vy*u:0,ce=F[this.layer].vx?F[this.layer].vx*u:0;typeof d=="function"&&d.call(b.dragged.parentNode[j],ce,Ve,o,rt,F[this.layer].el)!=="continue"||zt(F[this.layer].el,ce,Ve)}).bind({layer:c}),24))),c++}while(e.bubbleScroll&&v!==l&&(v=he(v,!1)));yt=s}},30),Jt=function(e){var t=e.originalEvent,n=e.putSortable,a=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,u=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||r;u();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);l(),s&&!s.el.contains(c)&&(i("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function Dt(){}Dt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=Ie(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Jt};se(Dt,{pluginName:"revertOnSpill"});function St(){}St.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:Jt};se(St,{pluginName:"removeOnSpill"});b.mount(new go);b.mount(St,Dt);const Zt=o=>(Ft("data-v-3c263d58"),o=o(),Rt(),o),vo={class:"dynamic-table"},_o=Zt(()=>Q("span",{style:{"margin-left":"6px"}},"删除",-1)),bo=Zt(()=>Q("span",null,"新增",-1)),wo={class:"preview",style:{"white-space":"pre"}},yo=ue({__name:"DynamicTable",setup(o){const e=B([]),t=B(),n=B(!1),a=B(),r=B(),i=B();lt(()=>{e.value=l,u()});function u(){const h=document.querySelector(".dynamic-table .el-table__body-wrapper tbody");b.create(h,{draggable:".dynamic-table .el-table__row",handle:".ux-drag",chosenClass:"ux-chosen",onEnd(g){const{newIndex:m,oldIndex:D}=g,M=JSON.parse(JSON.stringify(e.value)),A=M.splice(D,1)[0];M.splice(m,0,A),e.value=M}})}const l=[{id:1,date:"2023-05-02",name:"王小虎",age:30,address:"上海市普陀区金沙江路 1516 弄"},{id:2,date:"2023-05-03",name:"王小虎",age:31,address:"上海市普陀区金沙江路 1517 弄"},{id:3,date:"2023-05-04",name:"王小虎",age:32,address:"上海市普陀区金沙江路 1518 弄"},{id:4,date:"2023-05-05",name:"王小虎",age:33,address:"上海市普陀区金沙江路 1519 弄"}];function s(){e.value.push({id:new Date().getTime(),date:"",name:"",age:null,address:""})}function d(h){const g=[...e.value];g.splice(h,1),e.value=g}function c(){n.value=!0}function v(){t.value=JSON.stringify(e.value,null,2),console.log("result",e.value)}return(h,g)=>{const m=E("Rank"),D=E("el-icon"),M=E("el-table-column"),A=E("el-input"),L=E("Delete"),G=E("el-link"),ae=E("el-table"),q=E("Plus"),Z=E("el-button"),ve=E("el-divider"),X=E("el-alert"),re=E("el-tour-step"),ee=E("el-tour");return C(),k(it,null,[Q("div",vo,[p(ae,{"row-key":"id",data:O(e),style:{width:"100%"}},{default:w(()=>[p(M,{width:"40"},{default:w(()=>[Q("div",{ref_key:"ref2",ref:r,class:"ux-drag",style:{cursor:"move"}},[p(D,null,{default:w(()=>[p(m)]),_:1})],512)]),_:1}),p(M,{prop:"date",label:"日期",width:"180"},{default:w(x=>[p(A,{modelValue:x.row.date,"onUpdate:modelValue":P=>x.row.date=P},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),p(M,{prop:"name",label:"姓名",width:"180"},{default:w(x=>[p(A,{modelValue:x.row.name,"onUpdate:modelValue":P=>x.row.name=P},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),p(M,{prop:"age",label:"年龄",width:"180"},{default:w(x=>[p(A,{modelValue:x.row.age,"onUpdate:modelValue":P=>x.row.age=P},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),p(M,{prop:"address",label:"地址"},{default:w(x=>[p(A,{modelValue:x.row.address,"onUpdate:modelValue":P=>x.row.address=P},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),p(M,{width:"75"},{default:w(x=>[p(G,{ref_key:"ref3",ref:i,underline:!1,onClick:P=>d(x.$index)},{default:w(()=>[p(D,null,{default:w(()=>[p(L)]),_:1}),_o]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),p(Z,{ref_key:"ref1",ref:a,onClick:s,style:{width:"100%","border-style":"dashed","margin-top":"20px"}},{default:w(()=>[p(D,null,{default:w(()=>[p(q)]),_:1}),bo]),_:1},512)]),p(X,{type:"info","show-icon":"",closable:!1,style:{"margin-top":"20px"}},{default:w(()=>[p(Z,{type:"primary",text:"",onClick:c},{default:w(()=>[Ct("功能介绍")]),_:1}),p(ve,{direction:"vertical"}),p(Z,{type:"primary",text:"",onClick:v},{default:w(()=>[Ct("查看数据")]),_:1})]),_:1}),Q("div",wo,ie(O(t)&&`content: ${O(t)}`),1),p(ee,{modelValue:O(n),"onUpdate:modelValue":g[0]||(g[0]=x=>ln(n)?n.value=x:null)},{default:w(()=>{var x,P;return[p(re,{target:(x=O(a))==null?void 0:x.$el,title:"新增按钮",description:"点击新增按钮，增加一条数据"},null,8,["target"]),p(re,{target:O(r),title:"拖动排序",description:"拖动排序图标，进行排序"},null,8,["target"]),p(re,{target:(P=O(i))==null?void 0:P.$el,title:"删除按钮",description:"点击删除按钮，删除这条数据"},null,8,["target"])]}),_:1},8,["modelValue"])],64)}}}),Eo=Ae(yo,[["__scopeId","data-v-3c263d58"]]),Co=ue({__name:"EditableTable",setup(o){return(e,t)=>{const n=E("el-tab-pane"),a=E("el-tabs");return C(),De(a,null,{default:w(()=>[p(n,{label:"可编辑单元格"},{default:w(()=>[p(On)]),_:1}),p(n,{label:"可编辑行"},{default:w(()=>[p(Bn)]),_:1}),p(n,{label:"动态表格 + 拖拽排序"},{default:w(()=>[p(Eo)]),_:1})]),_:1})}}});export{Co as default};
