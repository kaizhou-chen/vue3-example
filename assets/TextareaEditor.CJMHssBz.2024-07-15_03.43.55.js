import{v as x}from"./VCodeHighlight.DTalzKSo.2024-07-15_03.43.55.js";import{d as E,a5 as y,a6 as V,r,$ as w,j as k,a as b,o as c,I as p,e as S,H as T,u as m,Q as H,X as f,Y as I}from"./index.ZB1ftQx1.2024-07-15_03.43.55.js";import{_ as M}from"./plugin-vueexport-helper.DlAUqK2U.2024-07-15_03.43.55.js";const B={class:"editor"},C={class:"javascript"},D=E({__name:"TextareaEditor",props:y({rows:{default:2}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(h){const o=V(h,"modelValue"),i=r(),u=r(),d=r("translate(0px, 0px)");let l;w(()=>{s()}),k(()=>o.value,()=>{s()});function v(t){l=t}function s(){requestAnimationFrame(()=>{l&&l(o.value)})}function g(t){requestAnimationFrame(()=>{const a=i.value.textarea;u.value.height=a.clientHeight+"px",d.value=`translate(0px, -${a.scrollTop}px)`})}function _(t){if(t.key=="Tab"){t.preventDefault();const e=t.target;var a=e.selectionStart,n=e.selectionEnd;e.value=e.value.substring(0,a)+"	"+e.value.substring(n),e.selectionStart=e.selectionEnd=a+1}}return(t,a)=>{const n=b("el-input");return c(),p("div",B,[S(n,{ref_key:"inputEl",ref:i,modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),type:"textarea",rows:t.rows,spellcheck:"false",placeholder:"请输入代码",onInput:s,onScroll:g,onKeydown:_},null,8,["modelValue","rows"]),T((c(),p("div",{ref_key:"highlightEl",ref:u,class:"code",style:H({transform:m(d)})},[f("pre",C,[f("code",null,I(o.value),1)])],4)),[[m(x),v]])])}}}),F=M(D,[["__scopeId","data-v-add21b3a"]]);export{F as default};
