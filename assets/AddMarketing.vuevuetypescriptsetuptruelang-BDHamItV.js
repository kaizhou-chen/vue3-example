import{_,c as d}from"./apiFactory-B0JBFQg1.js";import{a as b}from"./marketingApi-JEY-nnMP.js";import{u as g,a as k}from"./main-DKUsQMnN.js";import{d as x,r,c as R,$ as v,o as B,b as h,u as y,a3 as D}from"./index-D-j_Yy59.js";const $=x({__name:"AddMarketing",props:{isDialog:{type:Boolean}},emits:["close"],setup(c,{emit:i}){const s=c,u=i,a=g(),l=k(),t=r(),e=r(!1),f=R(()=>e.value?null:s.isDialog?"取消":"返回");v(()=>{l.name==="basicForm"&&(e.value=!0)});async function m(n){(await b(d(n))).data.success&&(t.value.reset(),D.success({message:"操作成功"}),o())}function o(){if(e.value){a.push("/table/pinia");return}s.isDialog?u("close"):a.back()}return(n,p)=>(B(),h(_,{ref_key:"formRef",ref:t,cancelText:y(f),onSubmit:m,onCancel:o},null,8,["cancelText"]))}});export{$ as _};
