import{v as x}from"./VCodeHighlight.BcHf-TBC.2024-07-17_1258.js";import{d as E,aC as y,aD as V,e as n,j as w,f as k,ah as T,o as c,c as d,U as b,P as S,u as m,J as C,a as f,T as D}from"./@vue.DR0bNimP.2024-07-17_1258.js";import{_ as M}from"./plugin-vueexport-helper.DlAUqK2U.2024-07-17_1258.js";import"./highlight.js.D0d1Vxwy.2024-07-17_1258.js";import"./call-bind.D4Qxyof_.2024-07-17_1258.js";import"./get-intrinsic.CjFK80KK.2024-07-17_1258.js";import"./es-errors.DzOT6E3C.2024-07-17_1258.js";import"./has-symbols.eVqrYdw7.2024-07-17_1258.js";import"./has-proto.JnoBQRdH.2024-07-17_1258.js";import"./function-bind.BbkWVFrm.2024-07-17_1258.js";import"./hasown.CQ6MvG1E.2024-07-17_1258.js";import"./set-function-length.9j_ZXv4y.2024-07-17_1258.js";import"./define-data-property.CsoVXVIa.2024-07-17_1258.js";import"./es-define-property.L9kauNg3.2024-07-17_1258.js";import"./gopd.BhGRosE1.2024-07-17_1258.js";import"./has-property-descriptors.CjB1m-qY.2024-07-17_1258.js";const B={class:"editor"},H={class:"javascript"},I=E({__name:"TextareaEditor",props:y({rows:{default:2}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(h){const o=V(h,"modelValue"),i=n(),p=n(),u=n("translate(0px, 0px)");let l;w(()=>{r()}),k(()=>o.value,()=>{r()});function v(t){l=t}function r(){requestAnimationFrame(()=>{l&&l(o.value)})}function g(t){requestAnimationFrame(()=>{const a=i.value.textarea;p.value.height=a.clientHeight+"px",u.value=`translate(0px, -${a.scrollTop}px)`})}function _(t){if(t.key=="Tab"){t.preventDefault();const e=t.target;var a=e.selectionStart,s=e.selectionEnd;e.value=e.value.substring(0,a)+"	"+e.value.substring(s),e.selectionStart=e.selectionEnd=a+1}}return(t,a)=>{const s=T("el-input");return c(),d("div",B,[b(s,{ref_key:"inputEl",ref:i,modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),type:"textarea",rows:t.rows,spellcheck:"false",placeholder:"请输入代码",onInput:r,onScroll:g,onKeydown:_},null,8,["modelValue","rows"]),S((c(),d("div",{ref_key:"highlightEl",ref:p,class:"code",style:C({transform:m(u)})},[f("pre",H,[f("code",null,D(o.value),1)])],4)),[[m(x),v]])])}}}),W=M(I,[["__scopeId","data-v-add21b3a"]]);export{W as default};
