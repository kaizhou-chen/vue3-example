import{_ as c}from"./CellEditor.vuevuetypescriptsetuptruelang-BftKO5Rl.js";import{d as E,r as x,$ as C,a as u,o as n,I as d,e as o,w as s,Y as f,u as U,L as A,n as I,C as S,D as z,X as w}from"./index-CIcVr1hx.js";import{_ as B}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./InputEditor-UMslMr90.js";import"./NumberEditor-CqlHkCnF.js";import"./DateEditor-BN6Fcoql.js";import"./SelectEditor-CZjlC3tB.js";const y=p=>(S("data-v-6583b060"),p=p(),z(),p),O={key:0},D={key:1},T=y(()=>w("span",{style:{"margin-right":"10px"}},"姓名",-1)),j={key:0},L={key:1},N={key:0},P={key:1},$={key:0},q={key:1},F=y(()=>w("p",null,"点击单元格，编辑数据",-1)),M=E({__name:"CellEditTable",setup(p){const g=x([]),b=[{value:"bj",label:"北京"},{value:"sh",label:"上海"},{value:"gz",label:"广州"},{value:"sz",label:"深圳"}];C(()=>{const r=[{date:"2024-05-03",name:"张三",age:33,area:"bj",address:"上海市普陀区金沙江路 1518 弄"},{date:"2024-05-04",name:"李四",age:34,area:"sh",address:"上海市普陀区金沙江路 1517 弄"},{date:"2024-05-05",name:"王五",age:35,area:"gz",address:"上海市普陀区金沙江路 1519 弄"},{date:"2024-05-06",name:"赵六",age:36,area:"sz",address:"上海市普陀区金沙江路 1516 弄"}];g.value=r});function V(r){return b.find(l=>l.value==r.row.area).label}function h(r,a,l,_){const{property:i}=a;r.editing=i,I(()=>{l.querySelector(".el-input input").focus()})}function m({field:r,rowIndex:a,changed:l,valid:_}){if(!_)console.log("校验未通过");else{const i=g.value[a];delete i.editing,console.log("changed",l?"值发生了变化":"值没有变化")}}return(r,a)=>{const l=u("el-table-column"),_=u("EditPen"),i=u("el-icon"),v=u("el-table"),k=u("el-alert");return n(),d(A,null,[o(v,{data:U(g),style:{width:"100%"},onCellClick:h},{default:s(()=>[o(l,{prop:"date",label:"日期",width:"180"},{default:s(e=>[e.row.editing==="date"?(n(),d("div",O,[o(c,{type:"date",modelValue:e.row.date,"onUpdate:modelValue":t=>e.row.date=t,scope:e,onOnAfterEdit:a[0]||(a[0]=t=>m(t))},null,8,["modelValue","onUpdate:modelValue","scope"])])):(n(),d("span",D,f(e.row.date),1))]),_:1}),o(l,{prop:"name",label:"姓名",width:"180"},{header:s(()=>[T,o(i,null,{default:s(()=>[o(_)]),_:1})]),default:s(e=>[e.row.editing==="name"?(n(),d("div",j,[o(c,{type:"text",modelValue:e.row.name,"onUpdate:modelValue":t=>e.row.name=t,scope:e,onOnAfterEdit:a[1]||(a[1]=t=>m(t))},null,8,["modelValue","onUpdate:modelValue","scope"])])):(n(),d("span",L,f(e.row.name),1))]),_:1}),o(l,{prop:"age",label:"年龄"},{default:s(e=>[e.row.editing==="age"?(n(),d("div",N,[o(c,{type:"number",modelValue:e.row.age,"onUpdate:modelValue":t=>e.row.age=t,scope:e,onOnAfterEdit:a[2]||(a[2]=t=>m(t))},null,8,["modelValue","onUpdate:modelValue","scope"])])):(n(),d("span",P,f(e.row.age),1))]),_:1}),o(l,{prop:"area",label:"地区"},{default:s(e=>[e.row.editing==="area"?(n(),d("div",$,[o(c,{type:"select",modelValue:e.row.area,"onUpdate:modelValue":t=>e.row.area=t,scope:e,options:b,onOnAfterEdit:a[3]||(a[3]=t=>m(t))},null,8,["modelValue","onUpdate:modelValue","scope"])])):(n(),d("span",q,f(V(e)),1))]),_:1}),o(l,{prop:"address",label:"地址"})]),_:1},8,["data"]),o(k,{type:"info","show-icon":"",closable:!1,style:{"margin-top":"20px"}},{default:s(()=>[F]),_:1})],64)}}}),R=B(M,[["__scopeId","data-v-6583b060"]]);export{R as default};
