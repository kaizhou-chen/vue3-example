import{S as P}from"./sortable.esm-D5Oeo24j.js";import{d as q,r as c,$ as F,a,o as L,I as M,X as _,e,w as l,u as r,Z as x,Y as X,l as Y,L as Z,C as j,D as z}from"./index-D6tOstyB.js";import{_ as A}from"./plugin-vueexport-helper-DlAUqK2U.js";const k=p=>(j("data-v-3c263d58"),p=p(),z(),p),G={class:"dynamic-table"},H=k(()=>_("span",{style:{"margin-left":"6px"}},"删除",-1)),K=k(()=>_("span",null,"新增",-1)),Q={class:"preview",style:{"white-space":"pre"}},W=q({__name:"DynamicTable",setup(p){const d=c([]),w=c(),m=c(!1),v=c(),V=c(),h=c();F(()=>{d.value=S,C()});function C(){const f=document.querySelector(".dynamic-table .el-table__body-wrapper tbody");P.create(f,{draggable:".dynamic-table .el-table__row",handle:".ux-drag",chosenClass:"ux-chosen",onEnd(s){const{newIndex:g,oldIndex:i}=s,n=JSON.parse(JSON.stringify(d.value)),u=n.splice(i,1)[0];n.splice(g,0,u),d.value=n}})}const S=[{id:1,date:"2023-05-02",name:"王小虎",age:30,address:"上海市普陀区金沙江路 1516 弄"},{id:2,date:"2023-05-03",name:"王小虎",age:31,address:"上海市普陀区金沙江路 1517 弄"},{id:3,date:"2023-05-04",name:"王小虎",age:32,address:"上海市普陀区金沙江路 1518 弄"},{id:4,date:"2023-05-05",name:"王小虎",age:33,address:"上海市普陀区金沙江路 1519 弄"}];function D(){d.value.push({id:new Date().getTime(),date:"",name:"",age:null,address:""})}function U(f){const s=[...d.value];s.splice(f,1),d.value=s}function I(){m.value=!0}function N(){w.value=JSON.stringify(d.value,null,2),console.log("result",d.value)}return(f,s)=>{const g=a("Rank"),i=a("el-icon"),n=a("el-table-column"),u=a("el-input"),R=a("Delete"),$=a("el-link"),T=a("el-table"),B=a("Plus"),y=a("el-button"),J=a("el-divider"),O=a("el-alert"),b=a("el-tour-step"),E=a("el-tour");return L(),M(Z,null,[_("div",G,[e(T,{"row-key":"id",data:r(d),style:{width:"100%"}},{default:l(()=>[e(n,{width:"40"},{default:l(()=>[_("div",{ref_key:"ref2",ref:V,class:"ux-drag",style:{cursor:"move"}},[e(i,null,{default:l(()=>[e(g)]),_:1})],512)]),_:1}),e(n,{prop:"date",label:"日期",width:"180"},{default:l(t=>[e(u,{modelValue:t.row.date,"onUpdate:modelValue":o=>t.row.date=o},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(n,{prop:"name",label:"姓名",width:"180"},{default:l(t=>[e(u,{modelValue:t.row.name,"onUpdate:modelValue":o=>t.row.name=o},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(n,{prop:"age",label:"年龄",width:"180"},{default:l(t=>[e(u,{modelValue:t.row.age,"onUpdate:modelValue":o=>t.row.age=o},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(n,{prop:"address",label:"地址"},{default:l(t=>[e(u,{modelValue:t.row.address,"onUpdate:modelValue":o=>t.row.address=o},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(n,{width:"75"},{default:l(t=>[e($,{ref_key:"ref3",ref:h,underline:!1,onClick:o=>U(t.$index)},{default:l(()=>[e(i,null,{default:l(()=>[e(R)]),_:1}),H]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(y,{ref_key:"ref1",ref:v,onClick:D,style:{width:"100%","border-style":"dashed","margin-top":"20px"}},{default:l(()=>[e(i,null,{default:l(()=>[e(B)]),_:1}),K]),_:1},512)]),e(O,{type:"info","show-icon":"",closable:!1,style:{"margin-top":"20px"}},{default:l(()=>[e(y,{type:"primary",text:"",onClick:I},{default:l(()=>[x("功能介绍")]),_:1}),e(J,{direction:"vertical"}),e(y,{type:"primary",text:"",onClick:N},{default:l(()=>[x("查看数据")]),_:1})]),_:1}),_("div",Q,X(r(w)&&`content: ${r(w)}`),1),e(E,{modelValue:r(m),"onUpdate:modelValue":s[0]||(s[0]=t=>Y(m)?m.value=t:null)},{default:l(()=>{var t,o;return[e(b,{target:(t=r(v))==null?void 0:t.$el,title:"新增按钮",description:"点击新增按钮，增加一条数据"},null,8,["target"]),e(b,{target:r(V),title:"拖动排序",description:"拖动排序图标，进行排序"},null,8,["target"]),e(b,{target:(o=r(h))==null?void 0:o.$el,title:"删除按钮",description:"点击删除按钮，删除这条数据"},null,8,["target"])]}),_:1},8,["modelValue"])],64)}}}),ae=A(W,[["__scopeId","data-v-3c263d58"]]);export{ae as default};
