import{_,c as d}from"./apiFactory.8NzLZck3.2024-08-23_0855.js";import{a as b}from"./marketingApi.ChXSgcdM.2024-08-23_0855.js";import{u as k,b as g}from"./vue-router.CZo7Iq1Y.2024-08-23_0855.js";import{a as x}from"./element-plus.DJt1SzqQ.2024-08-23_0855.js";import{d as R,b as r,k as v,j as B,o as M,M as h,u as y}from"./@vue.BRKSBXdb.2024-08-23_0855.js";const q=R({__name:"AddMarketing",props:{isDialog:{type:Boolean}},emits:["close"],setup(c,{emit:i}){const s=c,u=i,t=k(),l=g(),o=r(),e=r(!1),f=v(()=>e.value?null:s.isDialog?"取消":"返回");B(()=>{l.name==="basicForm"&&(e.value=!0)});async function m(n){(await b(d(n))).data.success&&(o.value.reset(),x.success({message:"操作成功"}),a())}function a(){if(e.value){t.push("/table/pinia");return}s.isDialog?u("close"):t.back()}return(n,p)=>(M(),h(_,{ref_key:"formRef",ref:o,cancelText:y(f),onSubmit:m,onCancel:a},null,8,["cancelText"]))}});export{q as _};
