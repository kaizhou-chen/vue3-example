import{d as j,ab as I,ac as N,r as c,a as u,o as y,b as h,w as l,e,u as t,l as w,I as R,M as $,Z as k,Y as T,L as z,n as O,H as x,ag as C,X as S,N as P,ah as A,ai as E,C as L,D as H}from"./index-DUm034Nc.js";import{d as X,s as Z}from"./main-DmfLwbbU.js";import{l as q}from"./apiFactory-CeJZrM_q.js";import{_ as G}from"./plugin-vueexport-helper-DlAUqK2U.js";const M=j({__name:"MultiSelect",props:I({options:{},placeholder:{}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(_){const p=N(_,"modelValue"),n=_,f=c(!1),s=c([]);function g(a){let r=[];a&&(r=n.options.map(o=>o.value)),p.value=[...r],s.value=[...r]}async function V(){s.value=[...p.value],await O(),f.value=p.value.length===n.options.length}return(a,r)=>{const o=u("el-checkbox"),i=u("el-text"),v=u("el-option"),b=u("el-checkbox-group"),D=u("el-select");return y(),h(D,{multiple:"",modelValue:p.value,"onUpdate:modelValue":r[2]||(r[2]=d=>p.value=d),placeholder:a.placeholder,onChange:V},{default:l(()=>[e(o,{label:"全选",modelValue:t(f),"onUpdate:modelValue":r[0]||(r[0]=d=>w(f)?f.value=d:null),onChange:g,style:{"padding-left":"20px",width:"calc(100% - 20px)"}},null,8,["modelValue"]),e(b,{modelValue:t(s),"onUpdate:modelValue":r[1]||(r[1]=d=>w(s)?s.value=d:null)},{default:l(()=>[(y(!0),R(z,null,$(a.options,d=>(y(),h(v,{key:d.value,label:d.label,value:d.value},{default:l(()=>[e(o,{value:d.value,style:{width:"100%"}},{default:l(()=>[e(i,{truncated:""},{default:l(()=>[k(T(d.label),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","placeholder"])}}}),Y=X("marketingTable",()=>{const _=c([]),p=c(0),n=c(10),f=c(1),s=c(),g=c({}),V=c({name:"",beginDate:"",endDate:"",region:[],jit:[]});async function a(){const o=r(),i=await q(o),{list:v,pageInfo:b}=i.data;_.value=v,p.value=b.total}function r(){const o={};return o.pageSize=n.value,o.pageNumber=f.value,s.value&&(o.orderBy=s.value),["name","beginDate","endDate","jit","region"].forEach(v=>{const b=V.value[v];b!==""&&(o[v]=b)}),g.value&&Object.assign(o,g.value),o}return{tableData:_,total:p,form:V,pageSize:n,currentPage:f,orderBy:s,filters:g,getTableData:a}}),J=_=>(L("data-v-81be52f7"),_=_(),H(),_),K={style:{display:"flex",width:"100%"}},Q=J(()=>S("div",{style:{flex:"1"}},null,-1)),W=j({__name:"SearchForm",setup(_){const{getTableData:p}=Y(),{form:n}=Z(Y()),f=c(),s=c(!0);function g(V){V.resetFields(),p()}return(V,a)=>{const r=u("el-input"),o=u("el-form-item"),i=u("el-col"),v=u("el-date-picker"),b=u("el-button"),D=u("el-icon"),d=u("el-link"),U=u("el-row"),F=u("el-form"),B=u("el-card");return y(),h(B,null,{default:l(()=>[e(F,{ref_key:"formRef",ref:f,model:t(n),inline:!0,"label-width":"auto"},{default:l(()=>[e(U,{gutter:20},{default:l(()=>[e(i,{span:6},{default:l(()=>[e(o,{label:"活动名称",prop:"name"},{default:l(()=>[e(r,{modelValue:t(n).name,"onUpdate:modelValue":a[0]||(a[0]=m=>t(n).name=m),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{span:6},{default:l(()=>[e(o,{label:"开始时间",prop:"beginDate"},{default:l(()=>[e(v,{placeholder:"开始时间",modelValue:t(n).beginDate,"onUpdate:modelValue":a[1]||(a[1]=m=>t(n).beginDate=m),type:"date","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{span:6},{default:l(()=>[e(o,{label:"结束时间",prop:"endDate"},{default:l(()=>[e(v,{placeholder:"结束时间",modelValue:t(n).endDate,"onUpdate:modelValue":a[2]||(a[2]=m=>t(n).endDate=m),type:"date","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),x(e(i,{span:6},{default:l(()=>[e(o,{label:"活动区域",prop:"region"},{default:l(()=>[e(M,{modelValue:t(n).region,"onUpdate:modelValue":a[3]||(a[3]=m=>t(n).region=m),placeholder:"请选择活动区域",options:[{label:"区域一",value:"shanghai"},{label:"区域二",value:"beijing"}]},null,8,["modelValue"])]),_:1})]),_:1},512),[[C,!t(s)]]),x(e(i,{span:6},{default:l(()=>[e(o,{label:"即时配送",prop:"region"},{default:l(()=>[e(M,{modelValue:t(n).jit,"onUpdate:modelValue":a[4]||(a[4]=m=>t(n).jit=m),placeholder:"请选择配送方式",options:[{label:"是",value:1},{label:"否",value:0}]},null,8,["modelValue"])]),_:1})]),_:1},512),[[C,!t(s)]]),e(i,{span:6,style:{"margin-left":"auto","margin-bottom":"0px"}},{default:l(()=>[e(o,{label:""},{default:l(()=>[S("div",K,[Q,e(b,{onClick:a[5]||(a[5]=m=>g(t(f)))},{default:l(()=>[k("重置")]),_:1}),e(b,{type:"primary",onClick:t(p)},{default:l(()=>[k("查询")]),_:1},8,["onClick"]),e(d,{type:"primary",underline:!1,onClick:a[6]||(a[6]=m=>s.value=!t(s)),style:{"margin-left":"12px"}},{default:l(()=>[S("span",null,T(t(s)?"展开":"收起"),1),e(D,{style:{"margin-left":"8px"}},{default:l(()=>[(y(),h(P(t(s)?t(A):t(E))))]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}}),ee=G(W,[["__scopeId","data-v-81be52f7"]]),ne=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{ee as S,ne as a,Y as u};
