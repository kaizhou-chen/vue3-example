import{p as _,_ as b,u as g}from"./apiFactory.D509ZqMI.2024-07-15_03.52.11.js";import{b as n}from"./bus.CdlF-dbX.2024-07-15_03.52.11.js";import{a as k}from"./marketingApi.LIrAzf3b.2024-07-15_03.52.11.js";import{u as x}from"./main.D18EzTpg.2024-07-15_03.52.11.js";import{d as D,r,c as R,$ as y,aa as B,o as M,b as T,u as c,a3 as U}from"./index.D1eludE9.2024-07-15_03.52.11.js";const $=D({__name:"EditMarketing",props:{isDialog:{type:Boolean}},emits:["close"],setup(i,{emit:u}){const a=i,m=u,f=x(),s=r(),t=r({}),p=R(()=>a.isDialog?"取消":"返回");y(()=>{n.on("updateUser",e=>{t.value=_(e)})}),B(()=>{n.off("updateUser")});async function l(e){(await k(g(e))).data.success&&(s.value.reset(),U.success({message:"操作成功"}),o())}function o(){a.isDialog?m("close"):f.back()}return(e,d)=>(M(),T(b,{ref_key:"formRef",ref:s,data:c(t),cancelText:c(p),onSubmit:l,onCancel:o},null,8,["data","cancelText"]))}});export{$ as _};
