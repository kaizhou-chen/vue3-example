import{p as _,_ as k,u as b}from"./apiFactory.8NzLZck3.2024-08-23_0855.js";import{b as n}from"./bus.C7soAy4q.2024-08-23_0855.js";import{a as g}from"./marketingApi.ChXSgcdM.2024-08-23_0855.js";import{u as x}from"./vue-router.CZo7Iq1Y.2024-08-23_0855.js";import{a as D}from"./element-plus.DJt1SzqQ.2024-08-23_0855.js";import{d as M,b as r,k as R,j as y,Y as B,o as T,M as U,u as c}from"./@vue.BRKSBXdb.2024-08-23_0855.js";const q=M({__name:"EditMarketing",props:{isDialog:{type:Boolean}},emits:["close"],setup(i,{emit:u}){const s=i,m=u,f=x(),a=r(),o=r({}),p=R(()=>s.isDialog?"取消":"返回");y(()=>{n.on("updateUser",e=>{o.value=_(e)})}),B(()=>{n.off("updateUser")});async function l(e){(await g(b(e))).data.success&&(a.value.reset(),D.success({message:"操作成功"}),t())}function t(){s.isDialog?m("close"):f.back()}return(e,d)=>(T(),U(k,{ref_key:"formRef",ref:a,data:c(o),cancelText:c(p),onSubmit:l,onCancel:t},null,8,["data","cancelText"]))}});export{q as _};
