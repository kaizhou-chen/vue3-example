import{v as x}from"./VCodeHighlight-DO0YDudZ.js";import{d as E,ab as y,ac as V,r as n,$ as b,a as k,o as d,I as p,e as w,H as S,u as m,Q as T,X as f,Y as H}from"./index-D6tOstyB.js";import{_ as I}from"./plugin-vueexport-helper-DlAUqK2U.js";const M={class:"editor"},B={class:"javascript"},C=E({__name:"TextareaEditor",props:y({rows:{default:2}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(h){const o=V(h,"modelValue"),r=n(),i=n(),u=n("translate(0px, 0px)");let l;b(()=>{c()});function v(t){l=t}function c(){requestAnimationFrame(()=>{l&&l(o.value)})}function g(t){requestAnimationFrame(()=>{const a=r.value.textarea;i.value.height=a.clientHeight+"px",u.value=`translate(0px, -${a.scrollTop}px)`})}function _(t){if(t.key=="Tab"){t.preventDefault();const e=t.target;var a=e.selectionStart,s=e.selectionEnd;e.value=e.value.substring(0,a)+"	"+e.value.substring(s),e.selectionStart=e.selectionEnd=a+1}}return(t,a)=>{const s=k("el-input");return d(),p("div",M,[w(s,{ref_key:"inputEl",ref:r,modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),type:"textarea",rows:t.rows,spellcheck:"false",placeholder:"请输入代码",onInput:c,onScroll:g,onKeydown:_},null,8,["modelValue","rows"]),S((d(),p("div",{ref_key:"highlightEl",ref:i,class:"code",style:T({transform:m(u)})},[f("pre",B,[f("code",null,H(o.value),1)])],4)),[[m(x),v]])])}}}),F=I(C,[["__scopeId","data-v-60937b31"]]);export{F as default};
