import{v as O}from"./VCodeHighlight-BoUuTqez.js";import{h as $,d as q,a8 as M,a9 as B,r as C,a as k,o as E,I as z,e as l,X as _,u as x,Q as F,c as N,w as m,l as V,H as R,Z as T,C as U,D as Y}from"./index-Dtstn163.js";import{_ as L}from"./plugin-vueexport-helper-DlAUqK2U.js";var P={exports:{}};(function(d){d.exports=function(h){var t={};function n(i){if(t[i])return t[i].exports;var u=t[i]={exports:{},id:i,loaded:!1};return h[i].call(u.exports,u,u.exports,n),u.loaded=!0,u.exports}return n.m=h,n.c=t,n.p="",n(0)}([function(h,t,n){h.exports=n(1)},function(h,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return i.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return i.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return i.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return i.findChunks}})},function(h,t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=function(o){var a=o.autoEscape,e=o.caseSensitive,r=e===void 0?!1:e,c=o.findChunks,v=c===void 0?i:c,s=o.sanitize,y=o.searchWords,f=o.textToHighlight;return u({chunksToHighlight:n({chunks:v({autoEscape:a,caseSensitive:r,sanitize:s,searchWords:y,textToHighlight:f})}),totalLength:f?f.length:0})};var n=t.combineChunks=function(o){var a=o.chunks;return a=a.sort(function(e,r){return e.start-r.start}).reduce(function(e,r){if(e.length===0)return[r];var c=e.pop();if(r.start<=c.end){var v=Math.max(c.end,r.end);e.push({highlight:!1,start:c.start,end:v})}else e.push(c,r);return e},[]),a},i=function(o){var a=o.autoEscape,e=o.caseSensitive,r=o.sanitize,c=r===void 0?w:r,v=o.searchWords,s=o.textToHighlight;return s=c(s),v.filter(function(y){return y}).reduce(function(y,f){f=c(f),a&&(f=g(f));for(var S=new RegExp(f,e?"g":"gi"),H=void 0;H=S.exec(s);){var p=H.index,I=S.lastIndex;I>p&&y.push({highlight:!1,start:p,end:I}),H.index===S.lastIndex&&S.lastIndex++}return y},[])};t.findChunks=i;var u=t.fillInChunks=function(o){var a=o.chunksToHighlight,e=o.totalLength,r=[],c=function(y,f,S){f-y>0&&r.push({start:y,end:f,highlight:S})};if(a.length===0)c(0,e,!1);else{var v=0;a.forEach(function(s){c(v,s.start,!1),c(s.start,s.end,!0),v=s.end}),c(v,e,!1)}return r};function w(b){return b}function g(b){return b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])})(P);var X=P.exports;const A=(d,h)=>{const t=X.findAll({autoEscape:d.autoEscape,caseSensitive:d.caseSensitive,findChunks:d.findChunks,sanitize:d.sanitize,searchWords:d.searchWords,textToHighlight:d.textToHighlight}),n=D(d,t),i=h.slots;return i.default?i.default&&i.default(n):$("span",{...h.attrs},n.map(({chunk:u,text:w,attrs:g})=>u.highlight?$("mark",g,[w]):w))},j={};function D(d,h){let t=-1,n="",i={};const{textToHighlight:u,highlightClassName:w,highlightStyle:g=j,activeIndex:b,activeClassName:o,activeStyle:a=j}=d;return h.map((e,r)=>{const c=u.substr(e.start,e.end-e.start);if(e.highlight){t++;const v=t===+(b||-1);return n=`${w} ${v?o:""}`,i=v===!0&&a!=null?{...g,...a}:g,{chunk:e,text:c,attrs:{class:n,key:r,style:i,highlightIndex:t}}}else return{chunk:e,text:c}})}A.props={activeClassName:String,activeIndex:Number,activeStyle:Object,autoEscape:Boolean,caseSensitive:{type:Boolean,defualt:!1},findChunks:Function,custom:{type:Boolean,default:!1},highlightClassName:String,highlightStyle:Object,sanitize:Function,searchWords:{type:Array,validator(d){return d.every(h=>typeof h=="string")},required:!0},textToHighlight:{type:String,required:!0}};const Q=A,Z={class:"ux-textarea"},G=q({__name:"TextareaHighlight",props:M({searchWords:{},placeholder:{},rows:{}},{modelValue:{default:""},modelModifiers:{}}),emits:M(["input"],["update:modelValue"]),setup(d,{emit:h}){const t=B(d,"modelValue"),n=d,i=h,u=C(),w=C(),g=C("translate(0px, 0px)");function b(a){i("input",a)}function o(a){requestAnimationFrame(()=>{const e=u.value.textarea;w.value.height=e.clientHeight+"px",g.value=`translate(0px, -${e.scrollTop}px)`})}return(a,e)=>{const r=k("el-input");return E(),z("div",Z,[l(r,{ref_key:"inputEl",ref:u,modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=c=>t.value=c),type:"textarea",placeholder:a.placeholder,rows:n.rows?n.rows:2,onInput:b,onScroll:o},null,8,["modelValue","placeholder","rows"]),_("div",{ref_key:"highlightEl",ref:w,class:"ux-highlight",style:F({transform:x(g)})},[l(x(Q),{searchWords:a.searchWords,textToHighlight:t.value,highlightClassName:"highlight"},null,8,["searchWords","textToHighlight"])],4)])}}}),J=L(G,[["__scopeId","data-v-7ffa67c4"]]),K=C([{greedy:"*",lazy:"*?",desc:"匹配 0个或多个 字符，等价于 {0,}"},{greedy:"+",lazy:"+?",desc:"匹配 1个或多个 字符，等价于 {1,}"},{greedy:"?",lazy:"??",desc:"匹配 0个或一个 字符，等价于 {0,1}"},{greedy:"{n}",lazy:"{n}?",desc:"匹配 n个 字符"},{greedy:"{n,}",lazy:"{n,}?",desc:"匹配 至少n个 字符"},{greedy:"{n,m}",lazy:"{n,m}?",desc:"匹配 最少n个，最多m个 字符"}]),ee=C([{char:".",desc:"匹配 除换行符（\\n、\\r）之外的任何单个字符"},{char:"\\w",desc:'查找单词字符 （包括字母，数字，下划线或"."）'},{char:"\\W",desc:"查找非单词字符"},{char:"\\d",range:"[0-9]",desc:"查找数字"},{char:"\\D",range:"[^0-9]",desc:"查找非数字字符"},{char:"\\s",desc:"查找空白字符"},{char:"\\S",desc:"查找非空白字符"},{char:"\\b",desc:"匹配单词边界"},{char:"\\B",desc:"匹配非单词边界"}]),te=C([{type:"捕获分组",code:'<b style="color: red;">(</b>pattern<b style="color: red;">)</b>',desc:"用一对小括号 (pattern) 来对文本进行分组和捕获"},{type:"非捕获分组",code:'<b style="color: red;">(</b><b style="color: tomato;">?:</b>pattern<b style="color: red;">)</b>',desc:"不记录捕获的内容，只进行分组，有助于提高效率"}]),le=C([{type:"前瞻断言",code:'X<b style="color: red;">(</b><b style="color: tomato;">?=</b>Y<b style="color: red;">)</b>',desc:"X 后紧跟着 Y"},{type:"否定的 前瞻断言",code:'X<b style="color: red;">(</b><b style="color: tomato;">?!</b>Y<b style="color: red;">)</b>',desc:"X 后没紧跟着 Y"}]),W=d=>(U("data-v-01ed2679"),d=d(),Y(),d),ae={class:"regex-tool",style:{display:"flex"}},ne={style:{flex:"1","margin-right":"50px"}},ie={class:"regex-code"},oe=W(()=>_("pre",{class:"javascript"},[_("code")],-1)),se=[oe],re=["innerHTML"],ce=["innerHTML"],de=W(()=>_("span",{style:{"margin-left":"12px"}},"后面紧跟着 .com，且匹配结果里不包含 .com",-1)),ue=W(()=>_("li",null,"前瞻断言只是一个测试，括号 (?=...) 中的内容不包含在匹配结果中",-1)),he={style:{flex:"1"}},pe=q({__name:"RegexPreview",setup(d){const h=C(`Lorem ipsum dolor sit amet, consectetur adipiscing elit,
sed do eiusmod tempor incididunt ut labore et dolore magna
aliqua. Ut enim ad minim veniam, quis nostrud exercitation
ullamco laboris nisi ut aliquip ex ea commodo consequat.
Duis aute irure dolor in reprehenderit in voluptate velit
esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
occaecat cupidatat non proident, sunt in culpa qui officia
deserunt mollit anim id est laborum.

abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ
0123456789 _+-.,!@#$%^&*();/|<>"'
12345 -98.7 3.141 .6180 9,000 +42
555.123.4567	+1-(800)-555-2468
foo@demo.net	bar.ba@test.co.uk
www.demo.com	http://foo.co.uk/
https://marketplace.visualstudio.com/items?itemName=chrmarti.regex
https://github.com/chrmarti/vscode-regex
`),t=C(""),n=C(),i=C("1"),u=N(()=>n.value!=="i"),w=N(()=>{let a=[],e="";try{const r=new RegExp(t.value,"g"+(n.value?"i":""));t.value!==""?(e=r.toString(),g&&g("const regex = "+e.replace(/</g,"&lt;"))):g(""),a=[t.value]}catch{g&&g(""),a=[""]}return a});let g;function b(a){g=a}function o(a){t.value=a}return(a,e)=>{const r=k("el-option"),c=k("el-select"),v=k("el-input"),s=k("el-table-column"),y=k("el-table"),f=k("el-link"),S=k("el-collapse-item"),H=k("el-collapse");return E(),z("div",ae,[_("div",ne,[l(v,{class:"code",modelValue:x(t),"onUpdate:modelValue":e[1]||(e[1]=p=>V(t)?t.value=p:null),placeholder:"请输入表达式"},{append:m(()=>[l(c,{modelValue:x(n),"onUpdate:modelValue":e[0]||(e[0]=p=>V(n)?n.value=p:null),clearable:"",placeholder:"flags",style:{width:"115px"}},{default:m(()=>[l(r,{label:"忽略大小写",value:"i"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),R((E(),z("div",ie,se)),[[x(O),b]]),l(H,{modelValue:x(i),"onUpdate:modelValue":e[5]||(e[5]=p=>V(i)?i.value=p:null),accordion:""},{default:m(()=>[l(S,{title:"• 重复匹配 {}",name:"1"},{default:m(()=>[l(y,{data:x(K),style:{width:"100%"}},{default:m(()=>[l(s,{prop:"greedy",label:"贪婪模式",width:"180"}),l(s,{prop:"lazy",label:"懒惰模式 ?",width:"180"}),l(s,{prop:"desc",label:""})]),_:1},8,["data"]),_("ul",null,[_("li",null,[T(" 贪婪模式：尽可能多地匹配字符 "),l(f,{type:"primary",style:{"margin-left":"12px"},onClick:e[2]||(e[2]=p=>o("^.*t"))},{default:m(()=>[T("^.*t")]),_:1})]),_("li",null,[T(" 懒惰模式：尽可能少地匹配字符 "),l(f,{type:"primary",style:{"margin-left":"12px"},onClick:e[3]||(e[3]=p=>o("^.*?t"))},{default:m(()=>[T("^.*?t")]),_:1})])])]),_:1}),l(S,{title:"• 元字符 []",name:"2"},{default:m(()=>[l(y,{data:x(ee),style:{width:"100%"}},{default:m(()=>[l(s,{prop:"char",label:"元字符",width:"180"}),l(s,{prop:"range",label:"字符范围",width:"180"}),l(s,{prop:"desc",label:""})]),_:1},8,["data"])]),_:1}),l(S,{title:"• 捕获分组、非捕获分组 ()",name:"3"},{default:m(()=>[l(y,{data:x(te),style:{width:"100%"}},{default:m(()=>[l(s,{prop:"type",label:"类型",width:"180"}),l(s,{prop:"code",label:"",width:"180"},{default:m(p=>[_("div",{class:"tip",innerHTML:p.row.code},null,8,re)]),_:1}),l(s,{prop:"desc",label:""})]),_:1},8,["data"])]),_:1}),l(S,{title:"• 前瞻断言 ()",name:"4"},{default:m(()=>[l(y,{data:x(le),style:{width:"100%"}},{default:m(()=>[l(s,{prop:"type",label:"类型",width:"180"}),l(s,{prop:"code",label:"",width:"180"},{default:m(p=>[_("div",{class:"tip",innerHTML:p.row.code},null,8,ce)]),_:1}),l(s,{prop:"desc",label:""})]),_:1},8,["data"]),_("ul",null,[_("li",null,[l(f,{type:"primary",onClick:e[4]||(e[4]=p=>o(".*(?=\\.com)"))},{default:m(()=>[T(".*(?=\\.com)")]),_:1}),de]),ue])]),_:1})]),_:1},8,["modelValue"])]),_("div",he,[l(J,{modelValue:x(h),"onUpdate:modelValue":e[6]||(e[6]=p=>V(h)?h.value=p:null),searchWords:x(w),caseSensitive:x(u)},null,8,["modelValue","searchWords","caseSensitive"])])])}}}),ve=L(pe,[["__scopeId","data-v-01ed2679"]]);export{ve as default};
