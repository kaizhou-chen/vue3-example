import{S as b}from"./sortable.esm-D5Oeo24j.js";import{d as g,g as i,$ as w,a as p,o,I as m,e as L,w as y,L as f,M as h,u as l,b as k}from"./index-DUm034Nc.js";const x={class:"dynamic-column",style:{padding:"20px"}},B=g({__name:"DynamicColumns",setup(C){const u=i([{id:1,name:"李四",gender:"男",age:20},{id:2,name:"王五",gender:"未知",age:18},{id:3,name:"张三",gender:"男",age:22}]),e=i({oldList:[],newList:[]}),s=[{label:"姓名",prop:"name"},{label:"性别",prop:"gender"},{label:"年龄",prop:"age"}],_=function(){const r=document.querySelector(".dynamic-column .el-table__header-wrapper tr");b.create(r,{animation:180,delay:0,draggable:".dynamic-column .el-table__cell",onEnd(c){const{newIndex:a,oldIndex:n}=c,t=e.newList[n];e.newList.splice(n,1),e.newList.splice(a,0,t)}})};return w(()=>{e.oldList=[...s],e.newList=[...s],_()}),(r,c)=>{const a=p("el-table-column"),n=p("el-table");return o(),m("div",x,[L(n,{"row-key":"id",data:l(u),style:{width:"100%"}},{default:y(()=>[(o(!0),m(f,null,h(l(e).oldList,(t,d)=>(o(),k(a,{key:`col_${d}`,prop:l(e).newList[d].prop,label:t.label},null,8,["prop","label"]))),128))]),_:1},8,["data"])])}}});export{B as default};
