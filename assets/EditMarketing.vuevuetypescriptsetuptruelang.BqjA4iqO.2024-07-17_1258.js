import{p as _,_ as k,u as g}from"./apiFactory.CAGB5SN5.2024-07-17_1258.js";import{b as n}from"./bus.Bkllrw1a.2024-07-17_1258.js";import{a as b}from"./marketingApi.CpdHMJCU.2024-07-17_1258.js";import{u as x}from"./vue-router.DlIqcYvR.2024-07-17_1258.js";import{a as D}from"./element-plus.CSfJK5WV.2024-07-17_1258.js";import{d as M,e as r,k as R,j as y,Y as B,o as T,M as U,u as c}from"./@vue.DR0bNimP.2024-07-17_1258.js";const q=M({__name:"EditMarketing",props:{isDialog:{type:Boolean}},emits:["close"],setup(i,{emit:u}){const s=i,m=u,f=x(),a=r(),o=r({}),p=R(()=>s.isDialog?"取消":"返回");y(()=>{n.on("updateUser",e=>{o.value=_(e)})}),B(()=>{n.off("updateUser")});async function l(e){(await b(g(e))).data.success&&(a.value.reset(),D.success({message:"操作成功"}),t())}function t(){s.isDialog?m("close"):f.back()}return(e,d)=>(T(),U(k,{ref_key:"formRef",ref:a,data:c(o),cancelText:c(p),onSubmit:l,onCancel:t},null,8,["data","cancelText"]))}});export{q as _};
