import{d as F,r as i,aa as S,n as U,a as n,o as f,b,w as r,e as s,u as l,I as z,L as N,M as O,X as p}from"./index-D6tOstyB.js";const X=p("ul",{style:{"padding-inline-start":"20px"}},[p("li",null,"输入工号，比如：abc123456"),p("li",null,"如果能精确匹配，即只有一个选项，则默认选中")],-1),A=F({__name:"StepItem2",setup($,{expose:h}){const _=i(),o=i({handler:"",city:"",state:[]}),g=i({handler:[{required:!0,message:"请选择联系人"}],city:[{required:!0,message:"请选择城市"}],state:[{required:!0,message:"请选择数据"}]}),v=i(),c=i(!1),u=i(),y=[{label:"abc123456 张三 （部门一）",value:"abc123456"},{label:"abc345678 李四 （部门二）",value:"abc345678"}],k=[{value:"south",label:"华南",children:[{value:"guangdong",label:"广东",children:[{value:"shenzhen",label:"深圳"},{value:"guangzhou",label:"广州"}]}]}],w=["California","Illinois","Maryland","Texas","Florida","Colorado","Connecticut "],C=["CA","IL","MD","TX","FL","CO","CT"],V=w.map((t,e)=>({label:t,key:e,initial:C[e]}));function x(t,e){return e.initial.toLowerCase().includes(t.toLowerCase())}const L=S(t=>{t!==""?(c.value=!0,setTimeout(()=>{c.value=!1,u.value=y.filter(e=>e.value.toLowerCase().indexOf(t)>-1),U(function(){u.value.length==1&&v.value.$refs.menuRef.$el.querySelector(".el-select-dropdown__item").click()})})):u.value=[]},1e3);function T(){return new Promise((t,e)=>{_.value.validate(d=>{t(d)})})}return h({validate:T}),(t,e)=>{const d=n("el-option"),M=n("el-select"),R=n("el-popover"),m=n("el-form-item"),B=n("el-cascader"),I=n("el-transfer"),q=n("el-form");return f(),b(q,{style:{width:"650px"},ref_key:"formRef",ref:_,model:l(o),rules:l(g),"label-width":"auto"},{default:r(()=>[s(m,{label:"联系人",prop:"handler"},{default:r(()=>[s(R,{width:350,effect:"dark",placement:"right",trigger:"click",title:"人员联想"},{reference:r(()=>[s(M,{ref_key:"selectRef",ref:v,modelValue:l(o).handler,"onUpdate:modelValue":e[0]||(e[0]=a=>l(o).handler=a),"remote-method":l(L),loading:l(c),remote:"",filterable:"","reserve-keyword":"",placeholder:"请输入联系人"},{default:r(()=>[(f(!0),z(N,null,O(l(u),a=>(f(),b(d,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","remote-method","loading"])]),default:r(()=>[X]),_:1})]),_:1}),s(m,{label:"城市",prop:"city"},{default:r(()=>[s(B,{modelValue:l(o).city,"onUpdate:modelValue":e[1]||(e[1]=a=>l(o).city=a),options:k,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),s(m,{label:"穿梭框",prop:"state"},{default:r(()=>[s(I,{modelValue:l(o).state,"onUpdate:modelValue":e[2]||(e[2]=a=>l(o).state=a),filterable:"",titles:["Source","Target"],"filter-method":x,data:l(V)},null,8,["modelValue","data"])]),_:1})]),_:1},8,["model","rules"])}}});export{A as _};
