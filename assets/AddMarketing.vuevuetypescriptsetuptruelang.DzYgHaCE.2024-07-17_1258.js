import{_,c as d}from"./apiFactory.CAGB5SN5.2024-07-17_1258.js";import{a as k}from"./marketingApi.CpdHMJCU.2024-07-17_1258.js";import{u as b,b as g}from"./vue-router.DlIqcYvR.2024-07-17_1258.js";import{a as x}from"./element-plus.CSfJK5WV.2024-07-17_1258.js";import{d as R,e as r,k as v,j as B,o as M,M as h,u as y}from"./@vue.DR0bNimP.2024-07-17_1258.js";const q=R({__name:"AddMarketing",props:{isDialog:{type:Boolean}},emits:["close"],setup(c,{emit:i}){const s=c,u=i,t=b(),l=g(),o=r(),e=r(!1),f=v(()=>e.value?null:s.isDialog?"取消":"返回");B(()=>{l.name==="basicForm"&&(e.value=!0)});async function m(n){(await k(d(n))).data.success&&(o.value.reset(),x.success({message:"操作成功"}),a())}function a(){if(e.value){t.push("/table/pinia");return}s.isDialog?u("close"):t.back()}return(n,p)=>(M(),h(_,{ref_key:"formRef",ref:o,cancelText:y(f),onSubmit:m,onCancel:a},null,8,["cancelText"]))}});export{q as _};
